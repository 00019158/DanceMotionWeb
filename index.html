

    <!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dance Motion ‚Äî –º–∞–≥–∞–∑–∏–Ω</title>
  <!-- –°–¢–ò–õ–ò –¢–í–û–ò (—è –Ω–µ –º–µ–Ω—è–ª) -->
  <style>
   :root{
      --brand-light: #e3f1fe;
      --brand-mid:   #cce4fc;
      --brand-dark:  #004f73;
      --muted: #6b7280;
      --card-radius: 12px;
      --shadow: 0 6px 18px rgba(0,0,0,0.06);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: var(--brand-light);
      color: #0b1720;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .categories {
  display: flex;
  flex-wrap: wrap;           /* —á—Ç–æ–±—ã –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∏—Å—å –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É */
  justify-content: center;   /* —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã */
  gap: 10px;                 /* —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ */
  margin: 10px 0;
  padding: 0;
  list-style: none;
}

.categories li {
  background: #f8f9fa;
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 14px;
  cursor: pointer;
  transition: background 0.3s;
}

.categories li:hover {
  background: #e3e6ea;
}

    .container{
      width: 100%;
      max-width:1100px;
      margin:0 auto;
      padding:12px;
    }

    /* Header */
    header{display:flex;align-items:center;gap:16px;justify-content:space-between;flex-wrap:wrap}
    .brand{display:flex;align-items:center;gap:12px}
    .logo img{
      height:120px;
      width:auto;
      display:block;
    }
    .brand h1{margin:0;font-size:20px;color:var(--brand-dark)}
    .brand p{margin:0;font-size:12px;color:var(--muted)}

    /* Search */
    .search-wrap{flex:1;min-width:180px;margin:0 12px}
    .search{display:flex;gap:8px}
    .search input{
      width:100%;padding:12px 14px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);
      background: #fff;box-shadow: 0 2px 8px rgba(2,6,23,0.03);
      font-size:14px;
    }
    .icon-btn{background:transparent;border:0;font-size:18px;cursor:pointer}
    .right-icons{display:flex;gap:12px;align-items:center}

    /* Categories */
    .categories{display:flex;gap:8px;flex-wrap:wrap;margin-top:16px}
    .cat-btn{padding:8px 12px;border-radius:10px;border:0;background:transparent;color:var(--brand-dark);cursor:pointer}
    .cat-btn.active{background:var(--brand-mid);box-shadow:var(--shadow);transform:scale(1.02)}

    /* Main */
    .hero{margin-top:22px;padding:22px;border-radius:14px;background:linear-gradient(90deg,var(--brand-mid),#f4fbff);display:flex;align-items:center;gap:18px;box-shadow:var(--shadow);flex-wrap:wrap}
    .hero .text{flex:1;min-width:200px}
    .hero h2{margin:0;font-size:26px;color:var(--brand-dark)}
    .hero p{margin:6px 0 0;color:var(--muted)}
    .hero .cta{margin-top:10px;padding:10px 14px;border-radius:10px;background:var(--brand-dark);color:#fff;border:0;cursor:pointer}

    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(1,1fr);gap:16px;margin-top:18px}
    @media(min-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:1000px){.grid{grid-template-columns:repeat(3,1fr)}}

    .card{background:var(--brand-mid);padding:14px;border-radius:var(--card-radius);box-shadow:var(--shadow);display:flex;flex-direction:column;gap:10px}
    .img-box{height:170px;border-radius:10px;background:linear-gradient(180deg,#fff,#eef9ff);display:flex;align-items:center;justify-content:center;color:var(--muted)}
    .title{font-weight:600;color:var(--brand-dark)}
    .meta{font-size:13px;color:var(--muted)}
    .price-row{display:flex;justify-content:space-between;align-items:center;gap:8px}
    .old-price{text-decoration:line-through;color:#6b7280;font-size:13px}
    .price{font-weight:800;color:var(--brand-dark)}

    .card .actions{display:flex;gap:8px;margin-top:6px}
    .btn{flex:1;padding:9px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
    .btn.cart{background:var(--brand-dark);color:#fff}
    .btn.fav{background:#fff;border:1px solid rgba(0,0,0,0.1);color:var(--brand-dark)}

    /* footer */
    footer{margin-top:36px;padding:18px;color:var(--muted);font-size:13px;text-align:center}

    /* Drawer / Modal */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.35);display:none;z-index:40}
    .drawer{position:fixed;right:0;top:0;height:100vh;width:380px;background:#fff;box-shadow: -20px 0 40px rgba(2,6,23,0.08);transform:translateX(110%);transition:transform .28s ease;z-index:45;padding:18px;display:flex;flex-direction:column}
    .drawer.open{transform:translateX(0)}
    .close-btn{background:transparent;border:0;font-size:18px;cursor:pointer}
    .cart-list{flex:1;overflow:auto;margin-top:12px;display:flex;flex-direction:column;gap:10px}
    .cart-item{display:flex;gap:12px;align-items:center;background:#f8fafc;padding:10px;border-radius:10px}
    .qty{display:flex;gap:6px;align-items:center}

    /* Profile modal */
    .modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.98);background:#fff;padding:18px;border-radius:12px;box-shadow:var(--shadow);z-index:50;min-width:280px;display:none}
    .modal.open{display:block;transform:translate(-50%,-50%) scale(1)}
    .modal input{width:100%;padding:10px;border-radius:8px;border:1px solid #e6eef7;margin-top:8px}

    /* badges */
    .badge{display:inline-flex;align-items:center;justify-content:center;background:var(--brand-dark);color:#fff;border-radius:999px;padding:4px 8px;font-size:12px}

    /* small helpers */
    .muted{color:var(--muted);font-size:13px}
    .underline{color:var(--brand-dark);text-decoration:underline;background:transparent;border:0;cursor:pointer}

    
  .right-icons {
  display: flex;
  gap: 5px;
  align-items: center;
}

.icon-btn {
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  padding: 6px;
}

.icon-img {
  width: 34px;
  height: 34px;
}

.icon-count {
  margin-left: 1px;
  font-weight: 700;
  color: #004f73; /* —Ç–≤–æ–π –±—Ä–µ–Ω–¥–æ–≤—ã–π —Ç—ë–º–Ω—ã–π —Ü–≤–µ—Ç */
}

.img-box {
  width: 430px;
  height: 252px;
  border-radius: 10px;
  overflow: hidden;
}

.img-box img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* –∑–∞–ø–æ–ª–Ω—è–µ—Ç, –º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å –∫—Ä–∞—è */
}

.new-label {
  position: absolute;
  top: 8px;
  left: 8px;
  background: #004f73;  /* —Ç–≤–æ–π –±—Ä–µ–Ω–¥–æ–≤—ã–π —Ü–≤–µ—Ç */
  color: #fff;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: bold;
}



    /* üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
    @media (max-width: 480px) {
      header {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
      }
      .search-wrap {
        width: 100%;
        margin: 10px 0;
      }
      .hero {
        flex-direction: column;
        text-align: center;
      }
      .hero .text {
        text-align: center;
      }
      .right-icons {
        width: 100%;
        justify-content: space-around;
      }
      .brand h1 {
        font-size: 30px;
      }

      .drawer {
       width: 100%;
      }

  .hero div[style*="width: 260px"] {
    width: 100% !important;
    height: auto !important;
  }

  .img-box {
    width: 100%;
    height: auto;
  }
}
  </style>
</head>
<body>

  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">
          <img src="/Images/–ª–æ–≥–æ—Ç–∏–ø.png" alt="Dance Motion">
        </div>

        <div>
          <h1>Dance Motion</h1>
          <p>–¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω–∞—è –æ–¥–µ–∂–¥–∞ –∏ —Ç—É—Ñ–ª–∏</p>
        </div>
      </div>

      <div class="search-wrap">
        <div class="search">
          <input id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É..." />
          <button class="icon-btn" id="searchBtn" title="–ü–æ–∏—Å–∫">üîç</button>
        </div>
      </div>

     <div class="right-icons">
      <button id="favBtn" class="icon-btn" title="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ">
        <img src="/Images/–°–µ—Ä–¥—Ü–µ.PNG" alt="–ò–∑–±—Ä–∞–Ω–Ω–æ–µ" class="icon-img">
        <span id="favCount" class="icon-count">0</span>
      </button>

      <button id="profileBtn" class="icon-btn" title="–ü—Ä–æ—Ñ–∏–ª—å">
        <img src="/Images/–ü—Ä–æ—Ñ–∏–ª—å.PNG" alt="–ü—Ä–æ—Ñ–∏–ª—å" class="icon-img">
      </button>

      <button id="cartBtn" class="icon-btn" title="–ö–æ—Ä–∑–∏–Ω–∞">
        <img src="/Images/–ö–æ—Ä–∑–∏–Ω–∞.PNG" alt="–ö–æ—Ä–∑–∏–Ω–∞" class="icon-img">
        <span id="cartCount" class="icon-count">0</span>
      </button>
    </div>

    </header>

   <nav class="categories" id="categoryNav"></nav>

<section class="hero">
  <div class="text">
    <h2>–ö–∞—Ç–∞–ª–æ–≥ Dance Motion</h2>
    <p>–ö–ª–∞—Å—Å–∏–∫–∞ –∏ –Ω–æ–≤–∏–Ω–∫–∏ –¥–ª—è —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–Ω—Ü–µ–≤.
       –ë—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É!</p>
    <button class="cta" id="shopNow">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</button>
  </div>

  <div style="width: 260px; height: 200px; border-radius: 16px; background: linear-gradient(180deg, var(--brand-mid), #fff); display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow); overflow: hidden;">
    <img src="/Images/–æ—Å–Ω–æ–≤–∞.png" alt="Dance Motion Logo" style="width: 100%; height: 100%; object-fit: cover; border-radius: 16px;">
  </div>
</section>

<h3 style="margin-top:18px;color:var(--brand-dark)">–ö–∞—Ç–∞–ª–æ–≥</h3>
<div id="productsGrid" class="grid"></div>


<h3 style="margin-top:18px;color:var(--brand-dark)">–°–∫–∏–¥–∫–∏</h3>
<div id="discountsGrid" class="grid"></div>

<footer>
  ¬© Dance Motion ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –ö–æ–Ω—Ç–∞–∫—Ç—ã: +998(91)123-60-66 ¬∑ Instagram: @dancemotion.uz
</footer>
  </div>

  <div id="overlay" class="overlay"></div>

  <!-- Cart Drawer -->
  <aside id="cartDrawer" class="drawer" aria-hidden="true">
    <div style="display:flex;align-items:center;justify-content:space-between">
      <h3 style="margin:0;color:var(--brand-dark)">–ö–æ—Ä–∑–∏–Ω–∞</h3>
      <button class="close-btn" id="closeCart">‚úñ</button>
    </div>

    <div id="cartList" class="cart-list"></div>

    <div style="margin-top:12px">
      <div class="muted">–ò—Ç–æ–≥–æ: <b id="cartTotal">0 —Å—É–º</b></div>
      <div class="muted" style="margin-top:6px">–ö–µ—à–±—ç–∫ –±—É–¥–µ—Ç –Ω–∞—á–∏—Å–ª–µ–Ω 5% –æ—Ç —Å—É–º–º—ã –ø–æ–∫—É–ø–∫–∏.</div>

      <div style="margin-top:8px">
        <label class="muted">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–µ—à–±—ç–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)</label>
        <div style="display:flex;gap:8px;margin-top:6px">
          <input id="cashbackUseInput" type="number" placeholder="0" min="0" style="flex:1;padding:8px;border-radius:8px;border:1px solid #e6eef7" />
          <button id="applyCashbackBtn" class="btn" style="background:var(--brand-mid);color:var(--brand-dark)">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
        </div>
        <div class="muted" style="margin-top:6px">–î–æ—Å—Ç—É–ø–Ω–æ –∫–µ—à–±—ç–∫–∞: <b id="cashbackAvailable">0 —Å—É–º</b></div>
      </div>

      <button id="checkoutBtn" class="btn cart" style="margin-top:10px">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </div>
  </aside>

  <!-- Profile Modal -->
  <div id="profileModal" class="modal" role="dialog" aria-modal="true">
    <div style="display:flex;justify-content:space-between;align-items:center">
      <h3 style="margin:0;color:var(--brand-dark)">–ü—Ä–æ—Ñ–∏–ª—å</h3>
      <button id="closeProfile" class="close-btn">‚úñ</button>
    </div>

    <div id="profileBody" style="margin-top:12px"></div>
  </div>

<script src="/script.js"></script>

<script>
/* –§–∏–ª—å—Ç—Ä—ã: —Ä–æ–≤–Ω–æ 6 –∫–Ω–æ–ø–æ–∫ –∏ –∏—Å–∫–ª—é—á–∞—é—â–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è.
   –í—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –±–ª–æ–∫ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∏ —É–∂–µ –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω—ã –≤ DOM. */
document.addEventListener('DOMContentLoaded', () => {
  const navEl = document.getElementById('categoryNav');
  const productsGrid = document.getElementById('productsGrid');
  const shoesGrid = document.getElementById('shoesGrid');
  const discountsGrid = document.getElementById('discountsGrid');
  const searchInput = document.getElementById('searchInput');
  const searchBtn = document.getElementById('searchBtn');
  const shopNow = document.getElementById('shopNow');

  if (!navEl || !productsGrid) return console.warn('–§–∏–ª—å—Ç—Ä—ã: –Ω–µ—Ç #categoryNav –∏–ª–∏ #productsGrid');

  // –ñ—ë—Å—Ç–∫–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤ (6 —à—Ç—É–∫), "–ú—É–∂—á–∏–Ω–∞–º" —É–¥–∞–ª—ë–Ω.
  const FILTERS = ['–í—Å–µ', '–ñ–µ–Ω—â–∏–Ω–∞–º', '–î–µ–≤–æ—á–∫–∞–º', '–ú–∞–ª—å—á–∏–∫–∞–º', '–°–∫–∏–¥–∫–∏'];

  // –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ (–≤–∫–ª—é—á–∞—è —Ç–µ, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ shoesGrid/discountsGrid)
  function allCards() {
    const selector = '.card';
    const cards = Array.from(document.querySelectorAll(selector));
    return cards;
  }

  // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ: –ø–æ–ª—É—á–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç—ã –∫–∞—Ä—Ç–æ—á–∫–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏—è, –ø–æ–ª, —Å–∫–∏–¥–∫–∞)
  function readCardData(card) {
    const dataCat = (card.dataset.category || '').toString().trim();
    const dataGender = (card.dataset.gender || '').toString().trim();
    const dataDisc = (String(card.dataset.discount || '') === 'true') || !!card.querySelector('.new-label') || card.classList.contains('discount');
    // fallback: –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏—Ç—å .meta –≤–∏–¥–∞ "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –î–µ–≤–æ—á–∫–∞–º" –∏–ª–∏ "–¢—É—Ñ–ª–∏ ‚Ä¢ –î–µ–≤–æ—á–∫–∞–º"
    let metaText = '';
    const metaEl = card.querySelector('.meta');
    if (metaEl) metaText = metaEl.textContent.trim();
    // parse possible "–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –î–µ–≤–æ—á–∫–∞–º" or "–¢—É—Ñ–ª–∏ ‚Ä¢ –î–µ–≤–æ—á–∫–∞–º"
    let fallbackCat = '', fallbackGender = '';
    if (metaText) {
      // –µ—Å–ª–∏ –µ—Å—Ç—å "–ö–∞—Ç–µ–≥–æ—Ä–∏—è:" ‚Äî –≤–∑—è—Ç—å —Å–ª–æ–≤–æ –ø–æ—Å–ª–µ
      const m = /–ö–∞—Ç–µ–≥–æ—Ä–∏—è[:\s]*([^‚Ä¢\n\r]+)/i.exec(metaText);
      if (m) fallbackCat = m[1].trim();
      // –µ—Å–ª–∏ –µ—Å—Ç—å '‚Ä¢' —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
      const parts = metaText.split('‚Ä¢').map(s=>s.trim()).filter(Boolean);
      if (parts.length === 2) { fallbackCat = fallbackCat || parts[0]; fallbackGender = parts[1]; }
      // —Ç–∞–∫–∂–µ –∏—Å–∫–∞—Ç—å —Å–ª–æ–≤–∞ '–∂–µ–Ω' / '–¥–µ–≤' / '–º–∞–ª—å—á'
      if(!fallbackGender) {
        if (/–∂–µ–Ω/i.test(metaText)) fallbackGender = '–ñ–µ–Ω—â–∏–Ω–∞–º';
        if (/–¥–µ–≤–æ—á–∫/i.test(metaText)) fallbackGender = '–î–µ–≤–æ—á–∫–∞–º';
        if (/–º–∞–ª—å—á–∏–∫/i.test(metaText)) fallbackGender = '–ú–∞–ª—å—á–∏–∫–∞–º';
        if (/–º—É–∂/i.test(metaText) && !/–º–∞–ª—å—á–∏–∫/i.test(metaText)) fallbackGender = '–ú—É–∂—á–∏–Ω–∞–º';
      }
    }
    return {
      category: dataCat || fallbackCat || '',
      gender: dataGender || fallbackGender || '',
      discount: !!dataDisc
    };
  }

  // —Ä–µ–Ω–¥–µ—Ä–∏–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
  function renderFilterButtons() {
    navEl.innerHTML = '';
    FILTERS.forEach((f, idx) => {
      const btn = document.createElement('button');
      btn.className = 'cat-btn';
      btn.textContent = f;
      btn.dataset.filter = f;
      if (idx === 0) btn.classList.add('active');
      btn.addEventListener('click', () => {
        document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        applyFilter(f, searchInput ? searchInput.value.trim() : '');
      });
      navEl.appendChild(btn);
    });
  }

  // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä + –ø–æ–∏—Å–∫
  function applyFilter(filter, search) {
    const q = (search || '').toLowerCase();
    const cards = allCards();

    // –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä "–í—Å–µ" ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —Å–µ–∫—Ü–∏–∏ (–æ–±—ã—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
    const isShowAll = (filter === '–í—Å–µ' || !filter);
    if (isShowAll) {
      // –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏
      cards.forEach(c => c.style.display = '');
      // –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏, –µ—Å–ª–∏ –æ–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
      if (shoesGrid) shoesGrid.style.display = '';
      if (discountsGrid) discountsGrid.style.display = '';
      // –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å ‚Äî –ø—Ä–∏–º–µ–Ω–∏–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–º–µ—Ç–∞
      if (q) {
        cards.forEach(card => {
          const title = (card.querySelector('.title')?.textContent||'').toLowerCase();
          const meta = (card.querySelector('.meta')?.textContent||'').toLowerCase();
          card.style.display = (title.includes(q) || meta.includes(q)) ? '' : 'none';
        });
      }
      return;
    }

    // –ö–æ–≥–¥–∞ –≤—ã–±—Ä–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä (–Ω–µ '–í—Å–µ'):
    // —Å–∫—Ä—ã–≤–∞–µ–º –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ–∫—Ü–∏–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–µ–π
    if (shoesGrid) shoesGrid.style.display = 'none';
    if (discountsGrid) discountsGrid.style.display = 'none';

    // –§–∏–ª—å—Ç—Ä—É–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—Ç—Ä–æ–≥–æ: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ, —É –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä
    cards.forEach(card => {
      const { category, gender, discount } = readCardData(card);
      let visible = false;

      if (filter === '–°–∫–∏–¥–∫–∏') {
        visible = !!discount;
      } else if (filter === '–¢—É—Ñ–ª–∏') {
        visible = (category && category.toLowerCase() === '—Ç—É—Ñ–ª–∏') || (card.dataset.category && card.dataset.category.toLowerCase() === '—Ç—É—Ñ–ª–∏');
      } else {
        // —Å—á–∏—Ç–∞–µ–º —Ñ–∏–ª—å—Ç—Ä –∫–∞–∫ –ø–æ–ª: –ñ–µ–Ω—â–∏–Ω–∞–º/–î–µ–≤–æ—á–∫–∞–º/–ú–∞–ª—å—á–∏–∫–∞–º
        const g = (gender || '').trim();
        // –µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–º–µ—á–µ–Ω–∞ '–í—Å–µ' –≤ –ø–æ–ª–µ gender ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–ª—è –≤—Å–µ—Ö
        if (g) {
          visible = (g.toLowerCase() === filter.toLowerCase());
        } else {
          // –µ—Å–ª–∏ —É –∫–∞—Ä—Ç–æ—á–∫–∏ –≤–æ–æ–±—â–µ –Ω–µ—Ç gender ‚Äî —Å—á–∏—Ç–∞–µ–º, —á—Ç–æ —Ç–æ–≤–∞—Ä **–Ω–µ** –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Ñ–∏–ª—å—Ç—Ä—É
          visible = false;
        }
      }

      // –ø—Ä–∏–º–µ–Ω–∏–º —Ç–∞–∫–∂–µ –ø–æ–∏—Å–∫ (–µ—Å–ª–∏ visible true)
      if (visible && q) {
        const title = (card.querySelector('.title')?.textContent||'').toLowerCase();
        const meta = (card.querySelector('.meta')?.textContent||'').toLowerCase();
        visible = (title.includes(q) || meta.includes(q));
      }

      card.style.display = visible ? '' : 'none';
    });
  }

  // –ü–æ–∏—Å–∫: —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å –∞–∫—Ç–∏–≤–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–æ–º
  if (searchBtn) {
    searchBtn.addEventListener('click', () => {
      const active = document.querySelector('.cat-btn.active');
      const filter = active ? active.dataset.filter : '–í—Å–µ';
      applyFilter(filter, searchInput ? searchInput.value.trim() : '');
    });
  }
  if (searchInput) {
    searchInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') searchBtn.click(); });
  }

  // shopNow: –ø—Ä–∏–º–µ–Ω—è–µ—Ç '–í—Å–µ' –∏ —Å–∫—Ä–æ–ª–ª–∏—Ç –≤–Ω–∏–∑
  if (shopNow) {
    shopNow.addEventListener('click', () => {
      document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
      const allBtn = Array.from(document.querySelectorAll('.cat-btn')).find(b => b.dataset.filter === 'All' || b.dataset.filter === '–í—Å–µ');
      if (allBtn) allBtn.classList.add('active');
      applyFilter('–í—Å–µ', '');
      setTimeout(()=> {
        window.scrollTo({ top: productsGrid.offsetTop - 20, behavior: 'smooth' });
      }, 50);
    });
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–º –∫–Ω–æ–ø–∫–∏ –∏ –ø—Ä–æ—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
  renderFilterButtons();

  // –ï—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –ø–æ–¥–æ–∂–¥—ë–º –Ω–µ–±–æ–ª—å—à–æ–π –º–æ–º–µ–Ω—Ç –∏ –ø—Ä–∏–º–µ–Ω–∏–º —Ñ–∏–ª—å—Ç—Ä
  setTimeout(() => applyFilter('–í—Å–µ', ''), 200);

  // –¢–∞–∫–∂–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å: –µ—Å–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ–∑–∂–µ, –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏–º–µ–Ω—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä
  const obsTarget = productsGrid;
  const mo = new MutationObserver((muts) => {
    const active = document.querySelector('.cat-btn.active');
    const filter = active ? active.dataset.filter : '–í—Å–µ';
    applyFilter(filter, searchInput ? searchInput.value.trim() : '');
  });
  mo.observe(obsTarget, { childList: true, subtree: true });
});
</script>

</body>
</html>
